<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰è¨­å®š</title>
    <style>
      body {
        font-family: system-ui, -apple-system, sans-serif;
        max-width: 600px;
        margin: 50px auto;
        padding: 20px;
        background: #0f172a;
        color: #e5e7eb;
      }
      .card {
        background: #111827;
        border: 1px solid #1f2937;
        border-radius: 12px;
        padding: 2rem;
      }
      h1 {
        margin-top: 0;
        background: linear-gradient(135deg, #a78bfa, #c4b5fd);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      button {
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        margin: 0.5rem;
      }
      .primary {
        background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        color: white;
      }
      .secondary {
        background: rgba(255, 255, 255, 0.1);
        color: #e5e7eb;
      }
      .status {
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 8px;
        background: rgba(139, 92, 246, 0.1);
        border: 1px solid rgba(139, 92, 246, 0.3);
      }
      .code {
        background: #0f172a;
        padding: 1rem;
        border-radius: 8px;
        font-family: 'Courier New', monospace;
        overflow-x: auto;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>ğŸ“– Epub Reader - é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰</h1>
      
      <div class="status">
        <strong>ç¾åœ¨ã®çŠ¶æ…‹:</strong>
        <p id="currentStatus">ç¢ºèªä¸­...</p>
      </div>
      
      <h3>é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã®è¨­å®š</h3>
      <p>é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€Googleèªè¨¼ãªã—ã§ã‚¢ãƒ—ãƒªã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚</p>
      
      <div>
        <button class="primary" onclick="enableDevMode()">é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–</button>
        <button class="secondary" onclick="disableDevMode()">é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹åŒ–</button>
      </div>
      
      <div style="margin-top: 2rem;">
        <button class="primary" onclick="goToApp()">ã‚¢ãƒ—ãƒªã‚’é–‹ã</button>
        <button class="secondary" onclick="goToLogin()">ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸</button>
      </div>
      
      <h3>ãã®ä»–ã®è¨­å®š</h3>
      <div>
        <button class="secondary" onclick="clearAllData()">å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢</button>
        <button class="secondary" onclick="showStorage()">ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’è¡¨ç¤º</button>
      </div>
      
      <div id="storageDisplay" class="code" style="display: none; margin-top: 1rem;"></div>
    </div>
    
    <script>
      function updateStatus() {
        const devMode = localStorage.getItem('DEV_MODE') === 'true';
        const status = document.getElementById('currentStatus');
        
        if (devMode) {
          status.innerHTML = 'âœ… <strong>é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹ã§ã™</strong><br>èªè¨¼ãªã—ã§ã‚¢ãƒ—ãƒªã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚';
        } else {
          status.innerHTML = 'âš ï¸ <strong>é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ãŒç„¡åŠ¹ã§ã™</strong><br>Googleèªè¨¼ãŒå¿…è¦ã§ã™ã€‚';
        }
      }
      
      function enableDevMode() {
        localStorage.setItem('DEV_MODE', 'true');
        alert('é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã—ã¾ã—ãŸï¼');
        updateStatus();
      }
      
      function disableDevMode() {
        localStorage.removeItem('DEV_MODE');
        alert('é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹ã«ã—ã¾ã—ãŸã€‚');
        updateStatus();
      }
      
      function goToApp() {
        window.location.href = '/index.html';
      }
      
      function goToLogin() {
        window.location.href = '/login.html';
      }
      
      function clearAllData() {
        if (confirm('å…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ã—ãŠã‚Šã€å±¥æ­´ã€è¨­å®šï¼‰ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\nã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚')) {
          localStorage.clear();
          alert('å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚');
          updateStatus();
        }
      }
      
      function showStorage() {
        const display = document.getElementById('storageDisplay');
        const data = {};
        
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          data[key] = localStorage.getItem(key);
        }
        
        display.textContent = JSON.stringify(data, null, 2);
        display.style.display = 'block';
      }
      
      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«çŠ¶æ…‹ã‚’æ›´æ–°
      updateStatus();
    </script>
  </body>
</html>
